{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\React\\\\react_staging\\\\src\\\\pages\\\\ArticleOnlineList\\\\Article-Item\\\\Article\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport \"./index.css\";\nexport default class Article extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: \"\",\n      source: \"\",\n      updatedAt: \"\",\n      content: \"\",\n      favor: 11,\n      isFavor: false,\n      dislike: 7,\n      isDislike: false\n    };\n\n    this.updateFavor = () => {\n      const {\n        favor,\n        isFavor,\n        dislike,\n        isDislike\n      } = this.state;\n      this.setState({\n        favor: !isFavor ? favor + 1 : favor - 1,\n        isFavor: !isFavor,\n        dislike: !isFavor && isDislike ? dislike - 1 : dislike,\n        isDislike: !isFavor && isDislike ? !isDislike : isDislike\n      }); // console.log(this);\n    };\n\n    this.updateDislike = () => {\n      const {\n        dislike,\n        isDislike,\n        favor,\n        isFavor\n      } = this.state;\n      this.setState({\n        dislike: !isDislike ? dislike + 1 : dislike - 1,\n        isDislike: !isDislike,\n        favor: !isDislike && isFavor ? favor - 1 : favor,\n        isFavor: !isDislike && isFavor ? !isFavor : isFavor\n      }); // console.log(this);\n    };\n  }\n\n  componentDidMount() {\n    // console.log(this.props.match.params);\n    axios.get(`https://qcpi7s.fn.thelarkcloud.com/getArticleById`, {\n      params: {\n        articleID: this.props.match.params.articleID\n      }\n    }).then(response => {\n      console.log(response.data.result);\n      const {\n        title,\n        source,\n        updatedAt,\n        content\n      } = response.data.result;\n      this.setState({\n        title,\n        source,\n        updatedAt,\n        content\n      });\n    }, error => {\n      console.log(\"失败了\");\n    });\n  }\n\n  render() {\n    // console.log('article render');\n    const {\n      title,\n      source,\n      updatedAt,\n      content,\n      favor,\n      dislike,\n      isFavor,\n      isDislike\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"article-meta\",\n        children: [source, \"\\xA0\\xA0\", updatedAt]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-box\",\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.updateFavor,\n          style: {\n            backgroundColor: isFavor ? 'lightblue' : '#ccc'\n          },\n          children: [\"\\u8D5E  \", favor]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.updateDislike,\n          style: {\n            backgroundColor: isDislike ? 'lightblue' : '#ccc'\n          },\n          children: [\"\\u8E29  \", dislike]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["E:/React/react_staging/src/pages/ArticleOnlineList/Article-Item/Article/index.jsx"],"names":["React","Component","axios","Article","state","title","source","updatedAt","content","favor","isFavor","dislike","isDislike","updateFavor","setState","updateDislike","componentDidMount","get","params","articleID","props","match","then","response","console","log","data","result","error","render","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from 'axios'\r\nimport \"./index.css\";\r\nexport default class Article extends Component {\r\n  state = {\r\n    title: \"\",\r\n    source: \"\",\r\n    updatedAt: \"\",\r\n    content:\"\",\r\n    favor: 11,\r\n    isFavor: false,\r\n    dislike: 7,\r\n    isDislike: false,\r\n  };\r\n  //更新点赞数\r\n  updateFavor = () => {\r\n    const { favor, isFavor,dislike,isDislike } = this.state;\r\n    this.setState({\r\n      favor: !isFavor ? favor + 1 : favor - 1,\r\n      isFavor: !isFavor,\r\n      dislike:!isFavor&&isDislike?dislike-1:dislike,\r\n      isDislike:!isFavor&&isDislike?!isDislike:isDislike\r\n    });\r\n    // console.log(this);\r\n  };\r\n  //更新踩\r\n  updateDislike=()=>{\r\n    const { dislike, isDislike,favor, isFavor } = this.state;\r\n    this.setState({\r\n      dislike: !isDislike ? dislike + 1 : dislike - 1,\r\n      isDislike: !isDislike,\r\n      favor:!isDislike&&isFavor?favor-1:favor,\r\n      isFavor:!isDislike&&isFavor?!isFavor:isFavor\r\n    });\r\n    // console.log(this);\r\n  }\r\n  componentDidMount(){\r\n    // console.log(this.props.match.params);\r\n    axios.get(`https://qcpi7s.fn.thelarkcloud.com/getArticleById`,{\r\n      params:{\r\n        articleID:this.props.match.params.articleID\r\n      }\r\n    }).then(\r\n      response => {\r\n        console.log(response.data.result);\r\n        const {title,source,updatedAt,content} = response.data.result\r\n        this.setState({title,source,updatedAt,content})\r\n      },\r\n      error => {\r\n        console.log(\"失败了\");\r\n      }\r\n    )\r\n  }\r\n  render() {\r\n    // console.log('article render');\r\n    const { title, source, updatedAt, content, favor, dislike, isFavor,isDislike } = this.state;\r\n    return (\r\n      <div className=\"article-content\">\r\n        <h1>{title}</h1>\r\n        <div className=\"article-meta\">\r\n          {source}&nbsp;&nbsp;{updatedAt}\r\n        </div>\r\n        <div className=\"content-box\">{content}</div>\r\n        <div className=\"button-box\">\r\n          <button onClick={this.updateFavor} style={{backgroundColor:isFavor?'lightblue':'#ccc'}}>赞  {favor}</button>\r\n          <button onClick={this.updateDislike} style={{backgroundColor:isDislike?'lightblue':'#ccc'}}>踩  {dislike}</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}