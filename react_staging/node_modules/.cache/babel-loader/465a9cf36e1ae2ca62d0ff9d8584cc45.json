{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\React\\\\react_staging\\\\src\\\\components\\\\Edit\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport \"./index.css\";\nexport default class Edit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      //初始化数据\n      title: '',\n      articleId: '',\n      source: '',\n      content: '',\n      state1: 0\n    };\n\n    this.getTitle = event => {\n      // console.log(event.target.value);\n      this.setState({\n        title: event.target.value\n      });\n    };\n\n    this.getSource = event => {\n      this.setState({\n        source: event.target.value\n      });\n    };\n\n    this.getContent = event => {\n      // console.log(event.target.value);\n      this.setState({\n        content: event.target.value\n      });\n    };\n\n    this.submitEssay = () => {\n      const {\n        title,\n        articleId,\n        source,\n        content,\n        state1\n      } = this.state;\n      console.log(\"提交了\", this.state);\n      axios.post(`https://qcpi7s.fn.thelarkcloud.com/saveArticle`, {\n        params: {\n          title: title,\n          articleId: articleId,\n          source: source,\n          content: content,\n          state: state1\n        }\n      }).then(response => {\n        console.log(\"成功了\", response.data.result);\n        window.alert(\"提交成功\");\n      }, error => {\n        console.log(\"失败了\", error.message);\n      });\n    };\n  }\n\n  componentDidMount() {\n    const {\n      articleId\n    } = this.props;\n    console.log(articleId);\n\n    if (articleId) {\n      //如果传值 则调用文章数据\n      //#region 网络请求数据\n      axios.post(`https://qcpi7s.fn.thelarkcloud.com/getArticleById`, {\n        articleId: articleId\n      }).then(response => {\n        console.log('componentDidMount', response.data.result);\n        const {\n          title,\n          articleId,\n          source,\n          content,\n          state\n        } = response.data.result || {};\n        this.setState({\n          title,\n          articleId,\n          source,\n          content,\n          state1: state\n        });\n      }, error => {\n        console.log(\"失败了\", error.message);\n      }); //#endregion\n    }\n  }\n\n  render() {\n    const {\n      title,\n      source,\n      content\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"txt\",\n          children: \"\\u6807\\u9898\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.getTitle,\n          type: \"text\",\n          defaultValue: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"txt\",\n          children: \"\\u6765\\u6E90\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.getSource,\n          type: \"text\",\n          defaultValue: source\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"txt\",\n          children: \"\\u5185\\u5BB9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: this.getContent,\n          type: \"text\",\n          defaultValue: content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit_box\",\n        onClick: this.submitEssay,\n        children: \"\\u63D0\\u4EA4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["E:/React/react_staging/src/components/Edit/index.jsx"],"names":["React","Component","axios","Edit","state","title","articleId","source","content","state1","getTitle","event","setState","target","value","getSource","getContent","submitEssay","console","log","post","params","then","response","data","result","window","alert","error","message","componentDidMount","props","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport \"./index.css\"\r\nexport default class Edit extends Component {\r\n  state={ //初始化数据\r\n    title:'',\r\n    articleId:'',\r\n    source:'',\r\n    content:'',\r\n    state1:0\r\n  }\r\n  //#region 更新数据\r\n  getTitle=(event)=>{\r\n    // console.log(event.target.value);\r\n    this.setState({title:event.target.value})\r\n  }\r\n  getSource=(event)=>{\r\n    this.setState({source:event.target.value})\r\n  }\r\n  getContent=(event)=>{\r\n    // console.log(event.target.value);\r\n    this.setState({content:event.target.value})\r\n  }\r\n  //#endregion\r\n  //提交文章\r\n  submitEssay=()=>{\r\n    const { title,articleId,source,content,state1 } = this.state\r\n    console.log(\"提交了\",this.state);\r\n    axios.post(`https://qcpi7s.fn.thelarkcloud.com/saveArticle`,{\r\n      params:{\r\n        title:title,\r\n        articleId:articleId,\r\n        source:source,\r\n        content:content,\r\n        state:state1\r\n      }\r\n    }).then(\r\n      response => {\r\n        console.log(\"成功了\",response.data.result);\r\n        window.alert(\"提交成功\")\r\n      },\r\n      error => {console.log(\"失败了\",error.message);}\r\n    )\r\n  }\r\n  componentDidMount(){\r\n    const { articleId } = this.props\r\n    console.log(articleId);\r\n    if(articleId){//如果传值 则调用文章数据\r\n      //#region 网络请求数据\r\n      axios.post(`https://qcpi7s.fn.thelarkcloud.com/getArticleById`,{\r\n        articleId:articleId\r\n      }).then(\r\n        response => {\r\n          console.log('componentDidMount',response.data.result);\r\n          const {title,articleId,source,content,state} = response.data.result||{};\r\n          this.setState({title,articleId,source,content,state1:state})\r\n        },\r\n        error => {\r\n          console.log(\"失败了\",error.message);\r\n        }\r\n      )\r\n      //#endregion\r\n    }\r\n    \r\n  }\r\n  render() {\r\n    const { title,source,content } = this.state\r\n    return (\r\n      <div>\r\n        <div className=\"edit_div\">\r\n          <label htmlFor=\"txt\">标题</label>&nbsp;\r\n          <input onChange={this.getTitle} type=\"text\" defaultValue={title}/>\r\n        </div>\r\n        <div className=\"edit_div\">\r\n          <label htmlFor=\"txt\">来源</label>&nbsp;\r\n          <input onChange={this.getSource} type=\"text\" defaultValue={source}/>\r\n        </div>\r\n        <div className=\"edit_div\">\r\n          <label htmlFor=\"txt\">内容</label>&nbsp;\r\n          <textarea onChange={this.getContent} type=\"text\" defaultValue={content}/>\r\n        </div>\r\n        <button className=\"submit_box\" onClick={this.submitEssay}>提交</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}